<%= stylesheet_pack_tag 'application' %>

<div data-condition-form>
  <%=
    form_for(
      [experiment, condition.condition],
      html: { class: 'ui form', multipart: true },
      data: {
        form_validation: true,
        refresh_url: refresh_form_experiment_conditions_path(experiment),
        refresh_replace_selector: '[data-condition-form]'
      }
    ) do |f|
  %>
    <%= hidden_field_tag :id, condition.id %>
    <%= hidden_field_tag :tab, @tab %>
    <div class="menu-container">
      <div class="ui vertical pointing menu">
        <div class="item" data-tab="basic-info">Basic Information</div>
        <div class="item" data-tab="labeling">Labeling</div>
        <div class="item" data-tab="sorting">Sorting</div>
        <div class="item" data-tab="categories">Categories</div>
        <div class="item" data-tab="cart-summary">Cart Summary</div>
        <div class="item" data-tab="nutrition-facts">Nutrition Facts</div>
        <div class="item" data-tab="budgeting">Budgeting</div>
        <div class="item" data-tab="suggestions">Suggestions</div>
        <div class="item" data-tab="searching">Searching</div>
      </div>
      <div class="content">
        <%= render "basic_info_tab", f: f %>
        <%= render "labeling_tab", f: f, condition: condition %>
        <%= render "sorting_tab", f: f, condition: condition %>
        <%= render "categories_tab", f: f, condition: condition, experiment: experiment %>
        <%= render "cart_summary_tab", f: f, condition: condition %>
        <%= render "nutrition_facts_tab", f: f, condition: condition %>
        <%= render "budgeting_tab", f: f, condition: condition %>
        <%= render "suggestions_tab", f: f, condition: condition %>
        <%= render "searching_tab", f: f, condition: condition %>
        <%= render "custom_attribute_tab", f: f, condition: condition %>

        <div class="button-wrapper right">
          <button type="submit" class="ui positive button" data-tab-submit>
            <i class="check icon"></i>
            Save
          </button>
        </div>
      </div>
    </div>
  <% end %>
</div>
